!function(t){t.fn.extend({restfulizer:function(e){var r=t.extend({parse:!1,target:null,method:"POST",csrf:"",query_type:null},e);return t(this).each(function(){var e=t.extend({},r),a=t(this);void 0!==a.attr("data-method")&&(e.method=a.attr("data-method").toUpperCase()),void 0!==a.attr("href")&&(e.target=a.attr("href")),void 0!==a.attr("data-csrf")&&(e.csrf=a.attr("data-csrf")),void 0!==a.attr("data-qtype")&&(e.query_type=a.attr("data-qtype"));var n="";if(e.parse){var d=e.target.indexOf("?");if(d>-1){var o=e.target.substr(d+1).split("#")[0].split("&");e.target=e.target.substr(0,d);for(var i=0;i<o.length;i++){var p=o[i].split("=");n+="\t<input type='hidden' name='"+decodeURIComponent(p[0])+"' value='"+decodeURIComponent(p[1])+"'>\n"}}}var s="";if(null!==e.query_type&&(s="<input type='hidden' name='query_type' value='"+e.query_type+"'>"),"GET"==e.method||"POST"==e.method)var u="\n<form action='"+e.target+"' method='"+e.method+"' style='display:none'>\n"+n+"<input type='hidden' name='_token' value='"+e.csrf+"'>"+s+"</form>\n";else u="\n<form action='"+e.target+"' method='POST' style='display:none'>\n\t<input type='hidden' name='_method' value='"+e.method+"'>\n"+n+"<input type='hidden' name='_token' value='"+e.csrf+"'>"+s+"</form>\n";a.append(u).removeAttr("href").attr("style","cursor:pointer;").attr("onclick",'$(this).find("form").submit();')})}})}(jQuery);